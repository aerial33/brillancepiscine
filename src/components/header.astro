---
import navData from '../data/navData'
import Button from '../components/Button.astro'
import { Icon } from 'astro-icon'
---

<nav class='mx-auto p-4 bg-slate-200'>
	<div class='container mx-auto flex items-center justify-between'>
		<a
			href='/'
			class='focus:outline-none focus-visible:ring-1 ring-neutral-900 rounded-sm lg:absolute lg:left-1/2 lg:-translate-x-1/2 lg:top-9 z-50'
			aria-label='Page principal douceur-piscine'
		>
			<Icon name='logo-douceur-piscine' class='w-16 md:w-24 lg:w-25' />
		</a>
		<button
			id='menu'
			aria-expanded='false'
			aria-label='open menu'
			class='lg:hidden focus:outline-none focus-visible:ring-1 ring-neutral-900 rounded-sm ring-offset-2 ring-offset-slate-300 text-neutral-900 hover:text-neutral-400 transition-colors'
		>
			<svg
				class='w-6 h-6'
				xmlns='http://www.w3.org/2000/svg'
				fill='none'
				viewBox='0 0 24 24'
				stroke='currentColor'
			>
				<path
					stroke-linecap='round'
					stroke-linejoin='round'
					stroke-width='2'
					d='M4 6h16M4 12h16m-7 6h7'></path>
			</svg>
		</button>
		<div
			role='menubar'
			class='hidden flex-col items-center gap-4 absolute right-0 left-0 top-16 bg-slate-200 shadow-xl text-center text-lg p-6 lg:flex lg:flex-row lg:static lg:shadow-none lg:justify-between lg:w-full'
		>
			{
				navData.map((link) => (
					<a
						role='menuitem'
						class='py-1 px-6 dark:text-neutral-900 focus:outline-none focus-visible:ring-1 ring-neutral-900 rounded-sm ring-offset-2 ring-offset-slate-300 text-neutral-900 hover:text-neutral-400 transition-colors lg:mr-auto'
						href={link.path}
					>
						{link.name}
					</a>
				))
			}
		</div>
	</div>
</nav>

<!-- <script>
	const navBtn = document.querySelector('#menu')
	const menuBar = document.querySelector('[role="menubar"]')

	navBtn.addEventListener('click', () => {
		const isExpanded = JSON.parse(navBtn.getAttribute('aria-expanded'))
		// @ts-ignore
		navBtn.setAttribute('aria-expanded', !isExpanded)
		menuBar.classList.toggle('hidden')
		menuBar.classList.toggle('flex')
	})
</script> -->
